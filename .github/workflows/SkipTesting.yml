name: Swift

on:
  push:

jobs:
  test:
    strategy:
      fail-fast: false
      matrix:
        one: ['one', 'two']
        two: ['one', 'two']
    if: matrix.one == 'one' && github.ref != 'refs/heads/testing-workflow'
    runs-on: linux-latest

    steps:
    - name: Set status
      if: matrix.one == 'one' && github.ref == 'refs/heads/testing-workflow'
      id: status
      run: |
        echo "::set-output name=status::skipped"

    - uses: actions/checkout@v2
    - name: Say hello
      if: steps.status.outputs.status != 'skipped'
      run: echo "hello"
